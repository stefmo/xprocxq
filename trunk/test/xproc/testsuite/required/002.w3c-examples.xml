<t:test-suite xmlns:t="http://xproc.org/ns/testsuite"
        xmlns:p="http://www.w3.org/ns/xproc"
        xmlns:c="http://www.w3.org/ns/xproc-step"
        xmlns:err="http://www.w3.org/ns/xproc-error">

<t:test>
<t:title>002a</t:title>
<t:description>Testing first example in XProc spec</t:description>

<t:input port='source'>
</t:input>

<t:input port='schemas'>
</t:input>


<t:pipeline>
<p:pipeline name="pipeline">
  <p:input port="source" primary="true"/>
  <p:input port="schemas" sequence="true"/>
  <p:output port="result">
    <p:pipe step="validated" port="result"/>
  </p:output>

  <p:xinclude name="included">
    <p:input port="source">
      <p:pipe step="pipeline" port="source"/>
    </p:input>
  </p:xinclude>

  <p:validate-xml-schema name="validated">
    <p:input port="source">
      <p:pipe step="included" port="result"/>
    </p:input>
    <p:input port="schema">
      <p:pipe step="pipeline" port="schemas"/>
    </p:input>
  </p:validate-xml-schema>
</p:pipeline>
</t:pipeline>

<t:output port='result'>

</t:output>

</t:test>


<t:test>
<t:title>002b</t:title>
<t:description>Same as 002a, but less verbose version</t:description>

<t:input port='source'>
</t:input>

<t:input port='schemas'>
</t:input>


<t:pipeline>
<p:pipeline name="pipeline">
  <p:input port="source" primary="true"/>
  <p:input port="schemas" sequence="true"/>

  <p:xinclude/>

  <p:validate-xml-schema>
    <p:input port="schema">
      <p:pipe step="pipeline" port="schemas"/>
    </p:input>
  </p:validate-xml-schema>
</p:pipeline>
    
</t:pipeline>

<t:output port='result'>

</t:output>

</t:test>


</t:test-suite>
